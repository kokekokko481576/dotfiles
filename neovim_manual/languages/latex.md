# 📜 LaTeX：モダンで最強の執筆環境

このドキュメントでは、このNeoVim環境に搭載された、モダンで超強力なLaTeX執筆環境について説明するよ！
従来の`platex`で起きてた面倒な問題を全部クリアして、日本語も数式もグラフも、なんでも安定して書けるようにしてあるんだ。

## セットアップの全体像

この最強環境は、こんなツールたちの連携で動いてるよ！

| 目的 | 使ってるツール / エンジン |
| :--- | :--- |
| 📜 **日本語文書の作成** | `lualatex` + `ltjsarticle` クラス |
| 🤖 **コード補完 / エラーチェック** | `texlab` (LSP) |
| ✨ **自動コンパイル＆プレビュー** | `latexmk` + `toggleterm.nvim` + `zathura` |

- **`lualatex`**: Unicodeに標準で対応したイマドキのTeXエンジン。日本語も直接扱えるし、PDFを直接作ってくれるから、難しい設定なしで高機能なパッケージが使えるんだ。
- **`latexmk`**: ファイルの変更をずーっと監視して、`lualatex`を自動で実行してくれる働き者。どのエンジンを使うかは、プロジェクトのルートにある`.latexmkrc`っていうファイルで設定済みだよ。
- **`<leader>lc`**: この自動コンパイル環境をワンタッチで起動するために、私たちが作ったカスタムキーマップ！

## 使い方

この環境の使い方は、信じられないくらいシンプル！

### 魔法の呪文：`<leader>lc` でコンパイル開始！

`.tex`ファイルを開いたら、あとはこうするだけ！

1.  ノーマルモードで **`<leader>lc`** （スペースキーに続けて`l`、`c`）を押す。
2.  画面下に「バックグラウンドで継続的なLaTeXコンパイルを開始しました」みたいなメッセージが出る。
3.  同時に、PDFビューアーの **`zathura`** が自動で起動して、できたてのPDFを表示してくれる。
4.  あとは、NeoVimで`.tex`ファイルを自由に編集して、**ファイルを保存（`:w`）するだけ！**
5.  保存するたびに`latexmk`が変更をキャッチして、`zathura`のPDFがリアルタイムで更新されていくよ！

この「**編集 → 保存 → 自動更新**」のサイクルで、常に最新のプレビューを見ながら、ストレスフリーで執筆に集中できるんだ。

### コンパイルを止めたいとき

バックグラウンドで動いてる自動コンパイルを止めたくなったら、ノーマルモードで **`<leader>lk`** を押してね。「継続的なコンパイルを停止しています」ってメッセージが出たらOK！

### エラーが出ちゃったとき

もしコンパイルでエラーが出たら、PDFは更新されないよ。
そんなときは、もう一度 **`<leader>lc`** を押してみて。コンパイルを実行してるターミナルウィンドウが表示されるから、そこでエラーメッセージを確認できるよ。

## ⚠️ 注意点

- この環境は**`lualatex`**で動いてるよ。テンプレートファイル (`Template.tex`) も、`lualatex`用の日本語クラス`ltjsarticle`を使ってるから、気をつけてね。
- `checkhealth`で`ripgrep not found`みたいな警告が出ることがあるけど、これはLaTeXのコンパイルには全然関係ないから、心配しないでOK！
