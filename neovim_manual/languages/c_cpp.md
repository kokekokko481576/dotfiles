# 🤖 C/C++：パワフルな開発環境

このドキュメントでは、このNeoVim環境でのC/C++開発をサポートする、パワフルな機能たちを紹介するよ！

## セットアップの全体像

C/C++の開発効率を上げるために、こんなツールたちが裏で動いてくれてるんだ。

| 目的 | 使ってるツール |
| :--- | :--- |
| 🤖 **コード補完 / エラーチェック** | `clangd` (LSP) |
| 💅 **コード整形** | `none-ls.nvim` + `clang-format` |

- **LSP (`clangd`)**: [LLVMプロジェクト](https://llvm.org/)が作ってる公式のLSPだよ。すごく高機能で、正確なコード補完、コンパイルエラーのリアルタイム表示、定義ジャンプ、リファレンス検索とか、なんでもござれ！

- **コード整形 (`clang-format`)**: `mason.nvim`で`clangd`をインストールすると、`clang-format`も一緒についてくるんだ。`none-ls.nvim`っていうプラグインがそれを自動で見つけてくれて、ファイルを保存するときに自動でコードをキレイに整えてくれるよ。

- 💡**`compile_commands.json`が最強の味方！**: `clangd`の能力を100%引き出すには、プロジェクトのルートに`compile_commands.json`っていうファイルがあるとベスト！これは、`CMake`みたいなビルドシステムが「このプロジェクトは、こういうオプションでコンパイルしてるよ」って`clangd`に教えるためのファイルなんだ。
  - `CMake`を使ってるプロジェクトなら、`CMakeLists.txt`があるフォルダで `cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1 .` って実行すると作れるよ。

## 使い方

じゃあ、実際にどうやって使うのか見てみよう！

### 賢いインテリセンス (補完・エラーチェック)

- `.c`や`.cpp`のファイルを開くと、LSP (`clangd`) が自動で起動するよ。
- コードを書いてる途中で、標準ライブラリやプロジェクト内の関数・変数の補完候補が自動で出てくる！
- もしコードに間違いがあったら、リアルタイムでエラーや警告を教えてくれる。
- 中級編で習った`gd`で定義元へジャンプしたり、`gr`でリファレンスを検索したり、`K`でドキュメントを表示したり、LSPの便利な機能が全部使えるよ！

### 保存するだけで、コードが綺麗に（自動フォーマット）

- C/C++のファイル（`.c`, `.cpp`, `.h`とか）を編集して保存（`:w`）するだけで、自動的に`clang-format`が実行されて、コードが一瞬で綺麗になるんだ。
- もしフォーマットのルール（インデントの幅とか、改行の仕方とか）を自分好みに変えたいときは、プロジェクトのルートに`.clang-format`っていう設定ファイルを置けばOK！細かくカスタマイズできるよ。

---

これだけの機能があれば、C/C++でのちょっと複雑な開発も、サクサク進むはずだよ！楽しんでね！
